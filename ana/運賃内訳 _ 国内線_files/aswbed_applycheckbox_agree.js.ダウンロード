/**
 * @fileoverview 【ユーティリティ】【実行文】「お客様条件入力」（00030）などで、「同意するためのチェックボックス」がカスタマイズ画像を使用できるようにするための仕組みを実装するメソッド
 *
 * @require  jQuery1.8.3
 * @version  0.01
 * @update   2015/6/8
 */
$(function () {
    'use strict';

    var $checkbox = $('.selectCheckboxCell input[type=checkbox]');
    var $checkboxImage = $('.selectCheckboxCell .checkboxImage');
    $checkbox.on('change', function () {
        var _this = this;
        setTimeout(function () {
            if ($(_this).is(':checked')) {
                $(_this).parent().find('.checkboxImage').addClass('checked');
            } else {
                $(_this).parent().find('.checkboxImage').removeClass('checked');
            }
        }, 1); //IEでのcheckedが設定されるタイミングのタイムラグを埋めるためにsetTimeoutしている
    });
    $checkboxImage.on('click', function () {
        $(this).parent().find('input[type=checkbox]').trigger('click');
    });
    $checkbox.trigger('change');
});